(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{398:function(e,t,n){var o=n(4);e.exports=o(1..valueOf)},399:function(e,t,n){"use strict";var o=n(7),r=n(1),c=n(4),l=n(52),d=n(398),f=n(324),h=n(5),m=r.RangeError,v=r.String,_=Math.floor,k=c(f),C=c("".slice),w=c(1..toFixed),P=function(e,t,n){return 0===t?n:t%2==1?P(e,t-1,n*e):P(e*e,t/2,n)},y=function(data,e,t){for(var n=-1,o=t;++n<6;)o+=e*data[n],data[n]=o%1e7,o=_(o/1e7)},x=function(data,e){for(var t=6,n=0;--t>=0;)n+=data[t],data[t]=_(n/e),n=n%e*1e7},R=function(data){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=v(data[e]);s=""===s?t:s+k("0",7-t.length)+t}return s};o({target:"Number",proto:!0,forced:h((function(){return"0.000"!==w(8e-5,3)||"1"!==w(.9,0)||"1.25"!==w(1.255,2)||"1000000000000000128"!==w(0xde0b6b3a7640080,0)}))||!h((function(){w({})}))},{toFixed:function(e){var t,n,o,r,c=d(this),f=l(e),data=[0,0,0,0,0,0],h="",_="0";if(f<0||f>20)throw m("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return v(c);if(c<0&&(h="-",c=-c),c>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(c*P(2,69,1))-69)<0?c*P(2,-t,1):c/P(2,t,1),n*=4503599627370496,(t=52-t)>0){for(y(data,0,n),o=f;o>=7;)y(data,1e7,0),o-=7;for(y(data,P(10,o,1),0),o=t-1;o>=23;)x(data,1<<23),o-=23;x(data,1<<o),y(data,1,1),x(data,2),_=R(data)}else y(data,0,n),y(data,1<<-t,0),_=R(data)+k("0",f);return _=f>0?h+((r=_.length)<=f?"0."+k("0",f-r)+_:C(_,0,r-f)+"."+C(_,r-f)):h+_}})},412:function(e,t,n){"use strict";n.r(t);var o=n(10),r=(n(40),n(41),n(13),n(399),{data:function(){return{regiones:[{id:"0",name:"Desconocido"},{id:"1",name:"Region 1"},{id:"2",name:"Region 2"},{id:"3",name:"Region 3"},{id:"4",name:"Region 4"},{id:"5",name:"Region 5"},{id:"6",name:"Region 6"},{id:"7",name:"Region 7"},{id:"8",name:"Region 8"},{id:"9",name:"Region 9"}],region:null,compliant:0,notCompliant:0,checked:[],columns:[],isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",checkboxPosition:"right"}},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,r,c,l,d,f,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,o=e.params,t.next=3,n.$get("https://kevinzepeda.github.io/etl-test/nokia.json");case 3:return r=t.sent,t.next=6,n.$get("https://kevinzepeda.github.io/etl-test/devices.json").then((function(e){return e.filter((function(e){return e.region==o.id}))}));case 6:return c=t.sent,l=r.reduce((function(e,t){var n,o=t.region;return e[o]=null!==(n=e[o])&&void 0!==n?n:[],e[o].push(t),e}),{}),d=l[o.id],f=d.reduce((function(e,t){var n,o=t.source_ip;return e[o]=null!==(n=e[o])&&void 0!==n?n:[],e[o].push(t),e}),{}),h={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,tooltips:{enabled:!0},title:{display:!0,text:"% Compliance by device",position:"bottom",fontSize:20}},t.abrupt("return",{dataByRegion:d,options:h,allDevices:c,groupByIP:f});case 12:case"end":return t.stop()}}),t)})))()},methods:{pieData:function(e){return null!==this.region&&(this.compliant=(e.filter((function(i){return i.is_compliant})).length/e.length*100).toFixed(1),this.notCompliant=(100-this.compliant).toFixed(1)),{hoverBackgroundColor:"red",hoverBorderWidth:5,labels:["Compliance","Not QoS"],datasets:[{label:"Data One",backgroundColor:["#41B883","#E46651"],data:[this.compliant,this.notCompliant]}]}}},fetch:function(){this.region=this.$route.params.id}}),c=n(51),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-9"},[n("h1",{staticClass:"title"},[e._v("Region "+e._s(e.region))])]),n("div",{staticClass:"column is-3"},[n("div",{staticClass:"buttons mt-2",attrs:{align:"is-left"}},[e.checked.length?n("b-button",{staticClass:"is-danger",on:{click:function(t){e.checked=[]}}},[e._v("Clear")]):n("b-button",{staticClass:"is-info is-light",on:{click:function(t){e.checked=e.allDevices.filter((function(e){return 0===e.is_compliant}))}}},[e._v("Select all")]),n("b-button",{staticClass:"is-info"},[e._v("Generate MOP")])],1)])]),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("h2",{staticClass:"subtitle"},[e._v("All Devices: "),n("b",[e._v(e._s(e.allDevices.length))])]),n("b-table",{attrs:{data:e.allDevices,paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"pagination-position":e.paginationPosition,"default-sort-direction":e.defaultSortDirection,"pagination-rounded":e.isPaginationRounded,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,"detail-key":"entry","default-sort":"user.first_name","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","page-input":e.hasInput,"pagination-order":e.paginationOrder,"page-input-position":e.inputPosition,"debounce-page-input":e.inputDebounce,"checked-rows":e.checked,checkable:"","is-row-checkable":function(e){return 0===e.is_compliant},"checkbox-position":e.checkboxPosition},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:checkedRows":function(t){e.checked=t},"update:checked-rows":function(t){e.checked=t}},scopedSlots:e._u([{key:"bottom-left",fn:function(){return[n("b",[e._v(" Checked rows: "+e._s(e.checked.length))])]},proxy:!0},{key:"empty",fn:function(){return[n("div",{staticClass:"has-text-centered"},[e._v("No Devices info")])]},proxy:!0}])},[n("b-table-column",{attrs:{field:"sysname",width:"40",label:"Sysname",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("nuxt-link",{attrs:{to:"/device/"+t.row.source_ip}},[e._v(e._s(t.row.sysname))])]}}])}),n("b-table-column",{attrs:{field:"source_ip",label:"IP",width:"40",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("nuxt-link",{attrs:{to:"/device/"+t.row.source_ip}},[e._v(e._s(t.row.source_ip))])]}}])}),n("b-table-column",{attrs:{field:"type",label:"Type",width:"40",numeric:"",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("p",[e._v(e._s(t.row.type))])]}}])}),n("b-table-column",{attrs:{field:"is_compliant",label:"Compliance",width:"40",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_compliant?n("span",{staticClass:"tag is-success"},[e._v("100 %")]):n("span",{staticClass:"tag is-danger"},[e._v(e._s((e.groupByIP[t.row.source_ip].filter((function(i){return i.is_compliant})).length/e.groupByIP[t.row.source_ip].length*100).toFixed(1))+" %")])]}}])})],1)],1),n("div",{staticClass:"column is-3"},[n("div",{staticClass:"h2 subtitle"},[e._v("Device compliance")]),n("pie-chart",{attrs:{data:e.pieData(e.dataByRegion),options:e.options}})],1)])])}),[],!1,null,null,null);t.default=component.exports}}]);